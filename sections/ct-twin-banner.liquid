{{ 'section-image-banner.css' | asset_url | stylesheet_tag }}

{%- if section.settings.image_height == 'small' -%}  
  {%- style -%}
    @media screen and (min-width: 750px) {
      .banner--small:not(.banner--mobile-bottom):not(.banner--adapt) .banner__content {
        min-height: auto;
      }
    }
  {%- endstyle -%}
{%- endif -%}

{%- if section.settings.image_height == 'adapt' and section.settings.image != blank -%}
  {%- style -%}
    @media screen and (max-width: 749px) {
      #Banner-{{ section.id }}::before,
      #Banner-{{ section.id }} .banner__media::before {
        padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
        content: '';
        display: block;
      }
    }
    @media screen and (min-width: 750px) {
      #Banner-{{ section.id }}::before,
      #Banner-{{ section.id }} .banner__media::before {
        padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;
        content: '';
        display: block;
      }
    }
  {%- endstyle -%}
{%- endif -%}

{%- style -%}
  #Banner-{{ section.id }}::after {
    opacity: {{ section.settings.image_overlay_opacity | divided_by: 100.0 }};
  }
{%- endstyle -%}

<div
  id="Banner-{{ section.id }}"
  class="banner banner--content-align-{{ section.settings.desktop_content_alignment }} banner--content-align-mobile-{{ section.settings.mobile_content_alignment }} banner--{{ section.settings.image_height }}{% if section.settings.stack_images_on_mobile and section.settings.image != blank and section.settings.image_2 != blank %} banner--stacked{% endif %}{% if section.settings.image_height == 'adapt' and section.settings.image != blank %} banner--adapt{% endif %}{% if section.settings.show_text_below %} banner--mobile-bottom{%- endif -%}{% if section.settings.show_text_box == false %} banner--desktop-transparent{% endif %}">
  
  {%- if section.settings.image != blank -%}
    <div class="banner__media media{% if section.settings.image_2 != blank %} banner__media-half{% endif %}">
      {{ section.settings.image | image_url: width: 3840 | image_tag }}

      <div class="banner__content banner__content--{{ section.settings.desktop_content_position }} page-width">
        <div class="banner__box content-container content-container--full-width-mobile color-{{ section.settings.color_scheme }} gradient">
          {% if section.settings.heading_1 != blank %}
            <h2 class="{{ section.settings.heading_size_1 }}">{{ section.settings.heading_1 }}</h2>
          {% endif %}
          {% if section.settings.text_1 != blank %}
            <div class="banner__text rte">{{ section.settings.text_1 }}</div>
          {% endif %}
          <div class="banner__buttons">
            {% if section.settings.button_label_1_1 != blank %}
              <a href="{{ section.settings.button_link_1_1 }}" class="button{% if section.settings.button_style_secondary_1_1 %} button--secondary{% else %} button--primary{% endif %}">
                {{ section.settings.button_label_1_1 }}
              </a>
            {% endif %}
            {% if section.settings.button_label_2_1 != blank %}
              <a href="{{ section.settings.button_link_2_1 }}" class="button{% if section.settings.button_style_secondary_2_1 %} button--secondary{% else %} button--primary{% endif %}">
                {{ section.settings.button_label_2_1 }}
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  {%- endif -%}

  {%- if section.settings.image_2 != blank -%}
    <div class="banner__media media{% if section.settings.image != blank %} banner__media-half{% endif %}">
      {{ section.settings.image_2 | image_url: width: 3840 | image_tag }}

      <div class="banner__content banner__content--{{ section.settings.desktop_content_position }} page-width">
        <div class="banner__box content-container content-container--full-width-mobile color-{{ section.settings.color_scheme }} gradient">
          {% if section.settings.heading_2 != blank %}
            <h2 class="{{ section.settings.heading_size_2 }}">{{ section.settings.heading_2 }}</h2>
          {% endif %}
          {% if section.settings.text_2 != blank %}
            <div class="banner__text rte">{{ section.settings.text_2 }}</div>
          {% endif %}
          <div class="banner__buttons">
            {% if section.settings.button_label_1_2 != blank %}
              <a href="{{ section.settings.button_link_1_2 }}" class="button{% if section.settings.button_style_secondary_1_2 %} button--secondary{% else %} button--primary{% endif %}">
                {{ section.settings.button_label_1_2 }}
              </a>
            {% endif %}
            {% if section.settings.button_label_2_2 != blank %}
              <a href="{{ section.settings.button_link_2_2 }}" class="button{% if section.settings.button_style_secondary_2_2 %} button--secondary{% else %} button--primary{% endif %}">
                {{ section.settings.button_label_2_2 }}
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  {%- endif -%}
</div>

{% schema %}
{
  "name": "CT Twin Banner",
  "settings": [
    { "type": "image_picker", "id": "image", "label": "Image 1" },
    { "type": "text", "id": "heading_1", "label": "Heading (Image 1)" },
    { "type": "select", "id": "heading_size_1", "label": "Heading Size (Image 1)", "options": [{"value":"h2","label":"H2"},{"value":"h1","label":"H1"}], "default": "h1" },
    { "type": "inline_richtext", "id": "text_1", "label": "Text (Image 1)" },
    { "type": "text", "id": "button_label_1_1", "label": "Button 1 Label (Image 1)" },
    { "type": "url", "id": "button_link_1_1", "label": "Button 1 Link (Image 1)" },
    { "type": "checkbox", "id": "button_style_secondary_1_1", "label": "Secondary Style Button 1 (Image 1)", "default": false },
    { "type": "text", "id": "button_label_2_1", "label": "Button 2 Label (Image 1)" },
    { "type": "url", "id": "button_link_2_1", "label": "Button 2 Link (Image 1)" },
    { "type": "checkbox", "id": "button_style_secondary_2_1", "label": "Secondary Style Button 2 (Image 1)", "default": false },

    { "type": "image_picker", "id": "image_2", "label": "Image 2" },
    { "type": "text", "id": "heading_2", "label": "Heading (Image 2)" },
    { "type": "select", "id": "heading_size_2", "label": "Heading Size (Image 2)", "options": [{"value":"h2","label":"H2"},{"value":"h1","label":"H1"}], "default": "h1" },
    { "type": "inline_richtext", "id": "text_2", "label": "Text (Image 2)" },
    { "type": "text", "id": "button_label_1_2", "label": "Button 1 Label (Image 2)" },
    { "type": "url", "id": "button_link_1_2", "label": "Button 1 Link (Image 2)" },
    { "type": "checkbox", "id": "button_style_secondary_1_2", "label": "Secondary Style Button 1 (Image 2)", "default": false },
    { "type": "text", "id": "button_label_2_2", "label": "Button 2 Label (Image 2)" },
    { "type": "url", "id": "button_link_2_2", "label": "Button 2 Link (Image 2)" },
    { "type": "checkbox", "id": "button_style_secondary_2_2", "label": "Secondary Style Button 2 (Image 2)", "default": false },

    { "type": "range", "id": "image_overlay_opacity", "min": 0, "max": 100, "step": 10, "unit": "%", "label": "Image Overlay Opacity", "default": 0 },
    { "type": "select", "id": "image_height", "label": "Image Height", "options": [{"value":"adapt","label":"Adapt"},{"value":"small","label":"Small"},{"value":"medium","label":"Medium"},{"value":"large","label":"Large"}], "default": "medium" },
    { "type": "select", "id": "desktop_content_position", "label": "Desktop Content Position", "options": [{"value":"middle-center","label":"Middle Center"},{"value":"top-left","label":"Top Left"}], "default": "middle-center" },
    { "type": "select", "id": "desktop_content_alignment", "label": "Desktop Content Alignment", "options": [{"value":"center","label":"Center"},{"value":"left","label":"Left"},{"value":"right","label":"Right"}], "default": "center" },
    { "type": "color_scheme", "id": "color_scheme", "label": "Color Scheme", "default": "scheme-1" },
    { "type": "checkbox", "id": "stack_images_on_mobile", "label": "Stack Images on Mobile", "default": true },
    { "type": "select", "id": "mobile_content_alignment", "label": "Mobile Content Alignment", "options": [{"value":"center","label":"Center"},{"value":"left","label":"Left"},{"value":"right","label":"Right"}], "default": "center" },
    { "type": "checkbox", "id": "show_text_below", "label": "Show Text Below", "default": true },
    { "type": "checkbox", "id": "show_text_box", "label": "Show Text Box", "default": true }
  ],
  "presets": [{ "name": "CT Twin Banner" }]
}
{% endschema %}
