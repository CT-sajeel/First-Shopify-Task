<div class="card__media">
    {% assign media = product.featured_media | default: product.media.first %}
            <a href="{{ product.url }}" class="link link-undecorated">
            {% if media and media.preview_image %}
                <img 
                src="{{ media.preview_image | img_url: '720x' }}"
                alt="{{ media.preview_image.alt | default: product.title | escape }}"
                class="swiper-product-image"
                loading="lazy"
                >
            {% elsif product.featured_image %}
                <img 
                src="{{ product.featured_image | img_url: '720x' }}"
                alt="{{ product.featured_image.alt | default: product.title | escape }}"
                class="swiper-product-image"
                loading="lazy"
                >
            {% else %}
                <img 
                src="{{ 'no-image.png' | asset_url }}"
                alt="{{ product.title | escape }}"
                class="swiper-product-image"
                loading="lazy"
                >
            {% endif %}
            </a>
</div>